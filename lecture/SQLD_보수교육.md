# SQLD 보수교육

# 1. 데이터베이스 개요

---

## 가. 데이터베이스의 정의

---

- 업무에서 사용되는 데이터를 인식하되 서로 관련되는 데이터들을 일정한 체계와 순서로 모아놓은 데이터의 집합
    - 중복이 배제된 통합된 데이터의 집합
    - 컴퓨터화하여 저장된 데이터
    - 조직의 기능을 수행하는데 반드시 유지해야 할 운영데이터
    - 한 조직에 있는 여러 응용 시스템들이 공동으로 소유하고 유지하며 이용하는 공용 데이터

- 또 다른 데이터베이스의 관점
    1. 지속적인(지속성 있는) 데이터: 특정 조직에서 응용시스템에 사용하는 지속적인 데이터의 집합
    2. 개체와 연관성: 개체는 Entity(개체; File; Table과 동의어)로 부르며, Entity들은 상호간의 관계성(Relationship; 업무 관련성; Fields)을 가지고 있음.
    3. 성질(Property)은 속성(Attribute; Column; Fields)이라고 부르며 데이터베이스를 구성하는 가장 작은 데이터 단위를 말함.

## 나. 데이터베이스의 목적

---

- 서로 다른 형태의 데이터(사용자 관점)의 통합화
- 중복된 데이터의 일관성 유지
- 저장된 데이터의 정확성을 보장하는 무결성 유지
- 데이터 중복의 최소화
- 업무상 데이터의 공유
- 데이터의 보안성 달성
- 데이터의 논리적, 물리적 독립성
- 데이터의 표준화 달성

- 무결성(Integrity)의 정의
    - 데이터베이스 내의 특정 데이터는 특정의 시점에 특정의 동일한 값과 동일한 형태를 유지해야 하며, 데이터베이스 구축 시 가장 중점을 두는 사항이다.
- 데이터베이스의 장점
    - 데이터의 압축성(통합성), 많은 종이파일 불필요, 처리속도, 단조롭고 고된 작업의 감소, 현재성(최신정보의 항상 이용)

## 다. 데이터베이스의 구조

---

- 외부 스키마
    - 사용자 개개인이 보는 자료에 대한 관점에서의 데이터 모델 Sub Schema 또는 사용자 뷰, Individual Schema
- 개념 스키마
    - 다양한 사용자의 정보 요구사항의 기술과 통합을 통해 데이터 모델을 작성.
    - 즉, 개별 사용자 뷰를 대상으로 분석 및 설계를 하여 엔티티(Entity; Table), 애트리뷰트(Attribute; 속성) 및 관계(Relationship) 등으로 표현하고, 점진적으로 여러 사용자 뷰를 대상으로 종목과 상호 불 일치되는 점을 제거하여 최종적으로 하나의 개념적 데이터모델을 만든다.
    - ex> 개체 관계도 (Entity - Relationship Diagram), 무결성 규칙(Integrity Rule)
- 내부 스키마
    - 주어진 DBMS 및 하드웨어의 계약조건 하에서 여러 가지 처리 요구사항 등을 최대한 만족시킬 접근방법을 선택하고 레코드 저장방법을 설계하여, 저장공간을 계산하는 등 데이터가 실제로 저장되는 방법과 관련 있는 모델.

- 사원이라는 개념스키마는 사원을 보는 사용자 개개인에 따라서 관리직 사원, 생산직 사원, 노조에 가입한 사원, 노조에 비 가입한 사원 등으로 다를 수가 있는데(외부 스키마), 데이터를 정련(Refine)해 나가는 과정에서 동음이의어, 이음동의어 및 중복된 자료가 통합되어진다.

![Untitled](./image/sqld/Untitled.png)

![Untitled](./image/sqld/Untitled%201.png)

# 2. 데이터베이스 관계원리

---

## 가. 관계

---

### 1) 관계관련 용어해설

---

- 데이터(Data)
    - 현실세계에 대해 전체가 아닌 특별히 관심을 끄는 부분을 표현한 것
    - ex> 만년필, 종이, 사람 이름 등
- 모집단(Population)
    - 비슷한 유형의 자료(개체)들을 포함하는 현실세계의 일부분으로써 주제영역(Subject Area), 개체(Entity)그룹을 들 수 있다.
    - ex> 영업 데이터, 물품 명세(창고 안의 물품+물품 공급자+물품 주문 등)
- 개체(Entity; 개체; File)
    - 모집단을 구성하는 개체, 개체
- 속성(Attribute; Column; Field 등)
    - 개체를 구성하는 더 이상 분리할 수 없는 정보단위
- 건(Row; Record; Instance; Object)
    - 개체의 1건(개)을 말함

- 데이터는 기업의 업무활동 중 보고서, 양식, 전표 등에 들어있다. 데이터는 물품 명, 자동차바퀴 모델 번호 등의 가장 최소의 단위에서부터 자동차, 도시, 물품처럼 여러 개의 데이터로 이루어진 그룹 성격의 데이터가 있으며 물품, 제품, 상품, 물건 등 동일한 데이터로써 이름만 다른 이음동의어가 있는 등의 데이터 특성이 존재한다.

### 2) 관계의 정의

---

- 관계(Relation)
    - 모집단 개개의 개체들이 관련 지어지는 방법을 기술한 것으로써, 대개 업무에 관련된 개체들끼리의 관계를 정의한다.
- 관계성(Relationship)
    - 두 개의 개체들 간에 존재하는 기수성(Cardinality)과 선택성(Optionality)을 관계성이라고 하며, 기준이 되는 기준개체(주체; Subject)와 행위를 받는 상대개체(객체; Object) 사이의 관계성을 구하는데, 개체간의 데이터 추출 시 데이터 접근방법(Access Method; Pointer or Column Join을 위한 외부 키)을 제공한다.
    - ex> 각 고객은 하나 이상의 주문을 한다.(기수성)
    - ex> 각 주문은 하나의 고객으로부터 만 나온다.(선택성)

- 데이터베이스는 서로 관련되는 데이터를 모아놓은 것으로써(ex> 고객, 주문…), 만약 특정 고객(’홍길동’)이 1996년 1월 1일 ~ 1997년 1월 30일까지의 주문현황을 구하는 요구가 있을 때 특정 고객인 ‘홍길동’을 고객 데이터에서 찾은 후, ‘홍길동’이란 고객이 주문한 주문사항을 주문데이터에서 찾아야 한다. 이것을 우리는 고객 데이터와 주문 데이터는 관계가 있다고 하며, 관계성을 구하여 부모 개체와 자식 개체를 식별하게 되는데 부모 개체가 기준이 되어 자식 개체의 해당 자료를 찾게 된다. 계층구조 DB, 네트워크 DB는 Pointer를, 관계형 DB는 부모 개체의 기본 키를 자식 개체의 외부 키로 넣어준다.

### 3) 관계의 종류

---

- 이진관계(Binary Relationship)
    
    ![Untitled](./image/sqld/Untitled%202.png)
    
- N-ary관계
    - 관계까 다대다(Many to Many)일 때 교차개체를 사용하여 일대다로 만들어줌.
    
    ![Untitled](./image/sqld/Untitled%203.png)
    
- 링 관계
    
    ![Untitled](./image/sqld/Untitled%204.png)
    

- 관계추출 사례
    - 창고는 부품들을 관리한다.
    - 공급자는 수요자에게 부품을 판매한다.
    - 구매요청서는 서로 다른 다수의 부품들의 판매 및 선적을 요청한다.
    - 송장은 화물의 반송 및 도착을 알린다.
    - 청구서는 하나 또는 그 이상의 화물에 대한 대금지불을 요청한다.

## 나. 관계와 그래프

---

### 1) 그래프의 정의

---

- 그래프: 정점과 호로 구성
- 정점: 원소, 한 관계성을 이루는 주체 또는 객체
- 호: 두 원소 사이의 관계
- 모집단: 원소들의 집합이며, 정점들의 집합에 의해 그래프에 표현
- 선형 그래프: 세 개의 관계성을 묘사
    
    ![Untitled](./image/sqld/Untitled%205.png)
    
- 비 선형 그래프: 세 개 이상의 관계성을 묘사
    
    ![Untitled](./image/sqld/Untitled%206.png)
    

### 2) 그래프 관계의 분류

---

- 반사 관계: aRa
    - 관계성에서 주체와 객체가 동일
    
    ![Untitled](./image/sqld/Untitled%207.png)
    
- 대칭관계: aRb = bRa
    - 어떤 관계성에서 주체와 객체를 서로 바꾸었을 때 또 다른 참인 관계성이 생길 경우
    
    ![Untitled](./image/sqld/Untitled%208.png)
    
- 전이관계: aRb, bRc, cRa
    - b는 aRb의 객체이고 bRc의 주체
    
    ![Untitled](./image/sqld/Untitled%209.png)
    

- 반사관계: 사원(관리자)이 사원을 관리한다.
- 대칭관계: ‘홍길동’은 ‘홍악동’의 형제이다. ‘홍악동’은 ‘홍길동’의 형제이다.
- 전이관계: 고객(a)은 주문(b)을 하고, 주문(b)은 주문품목(c)으로 구성한다. 고객(a)은 주문품목(c)을 주문했다.
- 관계의 다중성
    - 일대일: ‘각 고객은 단 하나의 주문만을 한다.’
    - 일대다: ‘각 고객은 하나 이상의 주문을 한다.’
    - 다대일: ‘여러 고객은 하나의 도시에 거주한다.’
    - 다대다: ‘여러 고객은 여러 도시에 거주한다.’

### 3) 관계의 순서

---

- 순서 관계 키
    - 관계의 가장 중요한 형태로 서로에 대한 각 원소들의 위치를 나타냄
    - 선행순서(P): aPb. 원소 a는 원소 b보다 위치상으로 앞에 있다는 의미
    - 후행순서(P*): bP*a. 원소 b는 원소 a의 뒤에 위치
- 순서 파일 (Ordered File)
    - 파일에서 레코드나 세그먼트의 위치가 그것들의 키에 의해 결정
    
    ![Untitled](./image/sqld/Untitled%2010.png)
    

- 키(Key)
    - 한 레코드나 세그먼트는 유일한 값을 갖는 필드 또는 필드의 집합을 갖는다.
- Key b > Key a, aPb: a Precede b
    - 오름차순 정렬(Default): 작은 주소의 레코드는 작은 키 값을 갖는다.
- 순서 파일의 특징
    - 장점: 각 레코드들의 상대적인 위치를 알 수 있다.
    - 단점: 한 레코드를 첨가 또는 삭제시키려고 할 때, 다른 많은 레코드들의 실제적인 위치를 변경시켜야 한다.

### 4) 연결 리스트 (Linked List)

---

- 레코드 안에 다음 레코드의 위치를 가리키는 포인터가 있고, 마지막 레코드에 터미널 플래그 표시(*)가 됨.
- 레코드의 첨가 또는 삭제가 쉬움
    
    ![Untitled](./image/sqld/Untitled%2011.png)
    
- aPb: Point a = loc b
    - 레코드a는 레코드b보다 먼저 위치하기 때문에 레코드a의 포인터 필드에서 레코드b의 위치를 찾을 수 있다.
    
    ![Untitled](./image/sqld/Untitled%2012.png)
    

- 연결리스트와 관련된 데이터베이스 접근방법: DAM (Direct Access Method)

### 5) 그래프와 구조

---

- 트리 구조를 갖는 계층 데이터베이스
- 중복된 루프의 성질을 갖는 네트워크 데이터베이스
- 테이블과 행렬을 이용한 관계형 데이터베이스
- 큐: FIFO 선입선출
- 스택: LIFO 후입선출

![Untitled](./image/sqld/Untitled%2013.png)

## 다. 테이블과 행렬

---

### 1) 데이터 행렬

---

- 모집단에 대한 모든 데이터는 한 개의 테이블로 표현되는데, 이 테이블을 행렬이라 함.
- 테이블은 2차원에서 행과 열로 구성됨.
- 행: 같은 수평선상의 모든 데이터
- 열: 같은 수직선상에 배열된 모든 데이터

![Untitled](./image/sqld/Untitled%2014.png)

- 유사용어
    - 행: Row, Record, 인스턴스, Occurrence, Object
    - 열: Column, Attribute, Field, Data Item
    - 테이블: File, 개체(Entity), 개체, 클래스

### 2) 데이터 셀

---

- Cell: 하나의 데이터. 행과 열의 교차로 표현
- 한 행은 여러 개의 수평 셀로 구성
- 열은 여러 개의 수직 셀의 집합
- 각 행은 필드들의 모임으로 구성된 RECORD
- 각 행을 튜플이라 함
- 행 내의 Cell의 위치는 중요
- 행렬내의 행의 위치는 중요하지 않음

![Untitled](./image/sqld/Untitled%2015.png)

- 파일은 여러 개의 레코드로 되어있으며, 각 레코드는 키 필드와 데이터필드로 나누어져 있다. 데이터필드는 값을 가지고 있는데 이러한 데이터필드를 데이터 셀 이라고 한다.
    - ex> 고객 F = 고객번호(키이)(NUMBER(4)) + 고객명(CHAR(10)) + 고객주소(CHAR(20)) + 고객전화번호(NUMBER(11)) + …

![Untitled](./image/sqld/Untitled%2016.png)

![Untitled](./image/sqld/Untitled%2017.png)

# 3. 데이터 모델 및 모델링

---

## 가. 데이터 모델

---

### 1) 데이터 모델의 정의

---

- 데이터베이스 내의 Data unit을 정의하고 각 unit들이 어떻게 관련되어 있는지를 나타내는 논리적 표현
- 현실세계를 데이터베이스에 표현하는 중간과정
- 데이터베이스 설계과정에서 데이터의 구조를 논리적으로 표현하기 위해 사용하는 지능적 도구
- 소프트웨어, 하드웨어와 독립적으로 데이터의 특성을 나타내는 논리적인 DATA MAP
- 현실세계를 보는 다양한 관점을 통함

### 2) 데이터 모델링의 정의

---

- 현실세계에 대한 인식을 추상적 개념으로 표현하는 과정
- 업무영역으로부터 업무와 데이터를 분석, 설계하는 과정

- Data Unit
    - 테이블(베이스, 인덱스, 백업, 시스템 카탈로그 등)
- 데이터베이스 구축과정
    - 현실세계의 데이터(전표, 장부, 영수증, 보고서) → 모델세계의 데이터(entity, table) → 컴퓨터세계의 데이터(bit, byte)
- 뷰(View)
    - 테이블이 데이터베이스 내에서 물리적인 데이터를 가지고 있는데 비해, 뷰는 뷰를 사용하는 프로그램이 실행될 때만 데이터를 가지고 있는 임시 테이블을 말함.

### 3) 관계형 데이터 모델 (Relational Model)

---

- 데이터의 관계가 테이블로 표현됨
- E.F Codd에 의해 개념도입

![Untitled](./image/sqld/Untitled%2018.png)

### 4) 네트워크형 데이터 모델 (Network Model)

---

- Hierarchical Data Model 의 단점을 보완하여 데이터의 구조를 레코드와 링크에 의해 망(network) 형태로 표현
- 사용하기 복잡하고 어려움

![Untitled](./image/sqld/Untitled%2019.png)

## 나. 데이터 모델링

---

## 다. 데이터 모델링 주요 이슈

---

## 라. 문제풀이

---

# 4. 파일 과 데이터베이스 시스템

---

## 가. 파일 시스템

---

## 나. 데이터베이스 시스템의 구조

---

## 다. 데이터베이스 관리시스템

---

## 라. 데이터베이스 기술 및 특성

---

## 마. 객체지향 데이터베이스

---

## 바. 분산 데이터베이스

---

## 사. 문제풀이

---

# 5. 구조적 질의어(SQL)

---

## 가. SQL의 특징

---

## 나. SQL 문법

---

## 다. SQL 실습

---

## 라. 문제풀이

---
