# Chapter 3. ÏÇ¨Ïö©Ïûê Î∞è Í∂åÌïú

## 1. ÏÇ¨Ïö©Ïûê ÏãùÎ≥Ñ

- MySQL Ïùò ÏÇ¨Ïö©ÏûêÎäî Îã§Î•∏ DBMS ÏôÄÎäî Ï°∞Í∏à Îã§Î•¥Í≤å ÏÇ¨Ïö©ÏûêÏùò Í≥ÑÏ†ï ÎøêÎßå ÏïÑÎãàÎùº ÏÇ¨Ïö©ÏûêÏùò Ï†ëÏÜç ÏßÄÏ†êÎèÑ Í≥ÑÏ†ïÏùò ÏùºÎ∂ÄÍ∞Ä ÎêúÎã§. Îî∞ÎùºÏÑú Í≥ÑÏ†ïÏùÑ Ïñ∏Í∏âÌï† Îïê ÏïÑÏù¥ÎîîÏôÄ Ìò∏Ïä§Ìä∏Î•º Ìï®Íªò Î™ÖÏãúÌï¥Ïïº ÌïúÎã§.
    - ÏÇ¨Ïö©ÏûêÏùò Ï†ëÏÜç ÏßÄÏ†ê: ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏Í∞Ä Ïã§ÌñâÎêú Ìò∏Ïä§Ìä∏Î™ÖÏù¥ÎÇò ÎèÑÎ©îÏù∏ ÎòêÎäî IP Ï£ºÏÜå
- ÏïÑÏù¥ÎîîÏôÄ IP Ï£ºÏÜåÎäî Ïó≠Îî∞Ïò¥Ìëú(```)ÎÇò ÌôëÎî∞Ïò¥Ìëú(`'`)Î°ú Í∞êÏã∏ÏÑú ÌëúÌòÑÎêúÎã§.
    - ex> `'jenny'@'127.0.0.1'`: MySQL ÏÑúÎ≤ÑÍ∞Ä Í∏∞Îèô Ï§ëÏù∏ Î°úÏª¨ Ìò∏Ïä§Ìä∏ÏóêÏÑú jenny ÎùºÎäî ÏïÑÏù¥ÎîîÎ°ú Ï†ëÏÜçÌï† ÎïåÎßå ÏÇ¨Ïö©Îê† Ïàò ÏûàÎäî Í≥ÑÏ†ï
- Î™®Îì† Ïô∏Î∂Ä Ïª¥Ìì®ÌÑ∞ÏóêÏÑú Ï†ëÏÜç Í∞ÄÎä•Ìïú ÏÇ¨Ïö©Ïûê Í≥ÑÏ†ï: ÏÇ¨Ïö©Ïûê Í≥ÑÏ†ïÏùò Ìò∏Ïä§Ìä∏ Î∂ÄÎ∂ÑÏùÑ `%` Î¨∏ÏûêÎ°ú ÎåÄÏ≤¥ÌïòÎ©¥ ÎêúÎã§.
    - `%` Î¨∏Ïûê: Î™®Îì† IP ÎòêÎäî Î™®Îì† Ìò∏Ïä§Ìä∏Î™ÖÏùÑ ÏùòÎØ∏

- Îã§ÏùåÍ≥º Í∞ôÏùÄ 2Í∞úÏùò ÏÇ¨Ïö©Ïûê Í≥ÑÏ†ïÏù¥ ÏûàÎäî MySQL ÏÑúÎ≤ÑÍ∞Ä ÏûàÎã§Î©¥ ?
    
    ```sql
    'svc_id'@'192.168.0.10' (Ïù¥ Í≥ÑÏ†ïÏùò ÎπÑÎ∞ÄÎ≤àÌò∏Îäî 123)
    'svc_id'@'%' (Ïù¥ Í≥ÑÏ†ïÏùò ÎπÑÎ∞ÄÎ≤àÌò∏Îäî abc)
    ```
    
    - Í∂åÌïúÏù¥ÎÇò Í≥ÑÏ†ï Ï†ïÎ≥¥Ïóê ÎåÄÌï¥ MySQL ÏùÄ Î≤îÏúÑÍ∞Ä Í∞ÄÏû• ÏûëÏùÄ Í≤ÉÏùÑ Ìï≠ÏÉÅ Î®ºÏ†Ä ÏÑ†ÌÉùÌïúÎã§.
        - Ï¶â, `'svc_id'@'192.168.0.10'`Ïù∏ Í≥ÑÏ†ïÏùÑ ÏÑ†ÌÉùÌïúÎã§.


## 2. ÏÇ¨Ïö©Ïûê Í≥ÑÏ†ï Í¥ÄÎ¶¨

### 2-1. ÏãúÏä§ÌÖú Í≥ÑÏ†ïÍ≥º ÏùºÎ∞ò Í≥ÑÏ†ï

---

- MySQL 8.0 Î∂ÄÌÑ∞ ÏãúÏä§ÌÖú Ïú†Ï†Ä Í∂åÌïúÏùò Ïú†Î¨¥Ïóê Îî∞Îùº Í≥ÑÏ†ïÏù¥ Íµ¨Î∂ÑÎêúÎã§.
    - ÏãúÏä§ÌÖú Í≥ÑÏ†ï
        - DB ÏÑúÎ≤Ñ Í¥ÄÎ¶¨ÏûêÎ•º ÏúÑÌïú Í≥ÑÏ†ï
        - DB ÏÑúÎ≤Ñ Í¥ÄÎ¶¨ÏôÄ Í¥ÄÎ†®Îêú Ï§ëÏöî ÏûëÏóÖ
            - Í≥ÑÏ†ï Í¥ÄÎ¶¨(Í≥ÑÏ†ï ÏÉùÏÑ± Î∞è ÏÇ≠Ï†ú, Í≥ÑÏ†ïÏùò Í∂åÌïú Î∂ÄÏó¨ Î∞è Ï†úÍ±∞)
            - Îã§Î•∏ ÏÑ∏ÏÖò(Connection) ÎòêÎäî Í∑∏ ÏÑ∏ÏÖòÏóêÏÑú Ïã§Ìñâ Ï§ëÏù∏ ÏøºÎ¶¨Î•º Í∞ïÏ†ú Ï¢ÖÎ£å
            - Ïä§ÌÜ†Ïñ¥Îìú ÌîÑÎ°úÍ∑∏Îû® ÏÉùÏÑ± Ïãú DEFINER Î•º ÌÉÄ ÏÇ¨Ïö©ÏûêÎ°ú ÏÑ§Ï†ï
        - SYSTEM_USER Í∂åÌïúÏùÑ Ìï†Îãπ
    - ÏùºÎ∞ò Í≥ÑÏ†ï
        - ÏùëÏö© ÌîÑÎ°úÍ∑∏Îû®Ïù¥ÎÇò Í∞úÎ∞úÏûêÎ•º ÏúÑÌïú Í≥ÑÏ†ï
        - SYSTEM_USER Í∂åÌïúÏùÑ Î∂ÄÏó¨ÌïòÏßÄ ÏïäÎäîÎã§.

- ÎÇ¥Ïû•Îêú Í≥ÑÏ†ï: `'root'@'localhost'`Î•º Ï†úÏô∏Ìïú 3Í∞úÏùò Í≥ÑÏ†ïÏùÄ ÎÇ¥Î∂ÄÏ†ÅÏúºÎ°ú Í∞ÅÍ∏∞ Îã§Î•∏ Î™©Ï†ÅÏúºÎ°ú ÏÇ¨Ïö©ÎêòÎØÄÎ°ú ÏÇ≠Ï†úÎêòÏßÄ ÏïäÎèÑÎ°ù Ï£ºÏùò
    - `'mysql.sys'@'localhost'`: 8.0Î∂ÄÌÑ∞ Í∏∞Î≥∏ ÎÇ¥Ïû•Îêú sys Ïä§ÌÇ§ÎßàÏùò Í∞ùÏ≤¥(Î∑∞, Ìï®Ïàò, ÌîÑÎ°úÏãúÏ†Ä)Îì§Ïùò DEFINER Î°ú ÏÇ¨Ïö©ÎêòÎäî Í≥ÑÏ†ïÏù¥Îã§.
    - `'mysql.session'@'localhost'`: MySQL ÌîåÎü¨Í∑∏Ïù∏Ïù¥ ÏÑúÎ≤ÑÎ°ú Ï†ëÍ∑ºÌï† Îïå ÏÇ¨Ïö©ÎêòÎäî Í≥ÑÏ†ï
    - `'mysql.infoschema'@'localhost'`: `information_schema`Ïóê Ï†ïÏùòÎêú Î∑∞Ïùò DEFINER Î°ú ÏÇ¨Ïö©ÎêòÎäî Í≥ÑÏ†ï
    - ‚Üí Ï≤òÏùåÎ∂ÄÌÑ∞ Ïû†Í≤®ÏûàÎäî ÏÉÅÌÉú(`account_locked`)Ïù¥ÎØÄÎ°ú ÏùòÎèÑÏ†ÅÏúºÎ°ú Ïû†Í∏¥ Í≥ÑÏ†ïÏùÑ ÌíÄÏßÄ ÏïäÎäî Ìïú ÏïÖÏùòÏ†ÅÏù∏ Ïö©ÎèÑÎ°ú ÏÇ¨Ïö©Ìï† Ïàò ÏóÜÏúºÎØÄÎ°ú Î≥¥ÏïàÏùÑ Í±±Ï†ïÌïòÏßÄÎäî ÏïäÏïÑÎèÑ ÎêúÎã§.
        
        ```sql
        mysql> SELECT user, host, account_locked FROM mysql.user WHERE user LIKE 'mysql%';
        +------------------+-----------+----------------+
        | user             | host      | account_locked |
        +------------------+-----------+----------------+
        | mysql.infoschema | localhost | Y              |
        | mysql.session    | localhost | Y              |
        | mysql.sys        | localhost | Y              |
        +------------------+-----------+----------------+
        3 rows in set (0.00 sec)
        ```
        

### 2-2. Í≥ÑÏ†ï ÏÉùÏÑ±

---

- MySQL 8.0 Î≤ÑÏ†ÑÎ∂ÄÌÑ∞Îäî Í≥ÑÏ†ïÏùò ÏÉùÏÑ±ÏùÄ `CREATE USER` Î™ÖÎ†πÏúºÎ°ú, Í∂åÌïú Î∂ÄÏó¨Îäî `GRANT` Î™ÖÎ†πÏúºÎ°ú Íµ¨Î∂ÑÌï¥ÏÑú Ïã§ÌñâÌïòÎèÑÎ°ù Î∞îÎÄåÏóàÎã§.
    - 5.7 ÍπåÏßÄÎäî `GRANT` Î™ÖÎ†πÏúºÎ°ú Í∂åÌïúÏùò Î∂ÄÏó¨ÏôÄ ÎèôÏãúÏóê Í≥ÑÏ†ï ÏÉùÏÑ±Ïù¥ Í∞ÄÎä•ÌñàÎã§.
- Í≥ÑÏ†ï ÏÉùÏÑ±Ïãú ÏÑ§Ï†ï Í∞ÄÎä• ÏòµÏÖò
    - Í≥ÑÏ†ïÏùò Ïù∏Ï¶ù Î∞©ÏãùÍ≥º ÎπÑÎ∞ÄÎ≤àÌò∏
    - ÎπÑÎ∞ÄÎ≤àÌò∏ Í¥ÄÎ†® ÏòµÏÖò(Ïú†Ìö® Í∏∞Í∞Ñ, Ïù¥Î†• Í∞úÏàò, Ïû¨ÏÇ¨Ïö© Î∂àÍ∞Ä Í∏∞Í∞Ñ)
    - Í∏∞Î≥∏ Ïó≠Ìï† (Role)
    - SSL ÏòµÏÖò
    - Í≥ÑÏ†ï Ïû†Í∏à Ïó¨Î∂Ä
- ÏùºÎ∞òÏ†ÅÏúºÎ°ú ÎßéÏù¥ ÏÇ¨Ïö©ÎêòÎäî ÏòµÏÖòÏùÑ Í∞ÄÏßÑ `CREATE USER` Î™ÖÎ†π
    
    ```sql
    mysql> CREATE USER 'user'@'%'
             **IDENTIFIED WITH** 'mysql_native_password' BY 'password'
             **REQUIRED** NONE
             **PASSWORD EXPIRE** INTERVAL 30 DAY
             **ACCOUNT** UNLOCK
             **PASSWORD HISTORY** DEFAULT
             **PASSWORD REUSE INTERVAL** DEFAULT
             **PASSWORD REQUIRE** CURRENT DEFAULT;
    ```
    
- `IDENTIFIED WITH`
    - ÏÇ¨Ïö©ÏûêÏùò Ïù∏Ï¶ù Î∞©ÏãùÍ≥º ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏÑ§Ï†ïÌïúÎã§.
    - Native Pluggable Authentication: Îã®ÏàúÌûà ÎπÑÎ∞ÄÎ≤àÌò∏Ïóê ÎåÄÌïú Ìï¥Ïãú(SHA-1) Í∞íÏùÑ Ï†ÄÏû•Ìï¥ÎëêÍ≥†, ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏Í∞Ä Î≥¥ÎÇ∏ Í∞íÍ≥º Ìï¥ÏãúÍ∞íÏù¥ ÏùºÏπòÌïòÎäîÏßÄ ÎπÑÍµêÌïòÎäî Î∞©Ïãù
        - 5.7 Î≤ÑÏ†ÑÍπåÏßÄ Í∏∞Î≥∏ÏúºÎ°ú ÏÇ¨Ïö©ÎêòÎçò Î∞©Ïãù
    - Caching SHA-2 Pluggable Authentication
        - 8.0 Î∂ÄÌÑ∞ Í∏∞Î≥∏ Ïù∏Ï¶ù Î∞©Ïãù
        - ÎÇ¥Î∂ÄÏ†ÅÏúºÎ°ú Salt ÌÇ§Î•º ÌôúÏö©ÌïòÎ©∞, ÏàòÏ≤ú Î≤àÏùò Ìï¥Ïãú Í≥ÑÏÇ∞ÏùÑ ÏàòÌñâÌï¥ÏÑú Í≤∞Í≥ºÎ•º ÎßåÎì§Ïñ¥ ÎÇ¥Í∏∞ ÎïåÎ¨∏Ïóê ÎèôÏùºÌïú ÌÇ§ Í∞íÏóê ÎåÄÌï¥ÏÑúÎèÑ Í≤∞Í≥ºÍ∞Ä Îã¨ÎùºÏßÑÎã§ ‚Üí ÏÑ±Îä•Ïù¥ Îß§Ïö∞ Îñ®Ïñ¥ÏßÄÎäî Í±∏ Î≥¥ÏôÑÌïòÍ∏∞ ÏúÑÌï¥ Ìï¥Ïãú Í≤∞Í≥ºÍ∞íÏùÑ Î©îÎ™®Î¶¨Ïóê Ï∫êÏãúÌï¥ÏÑú ÏÇ¨Ïö©ÌïúÎã§.
        - Ïù¥ Ïù∏Ï¶ù Î∞©ÏãùÏùÑ ÏÇ¨Ïö©ÌïòÎ†§Î©¥ SSL/TLS ÎòêÎäî RSA ÌÇ§ ÌéòÏñ¥Î•º Î∞òÎìúÏãú ÏÇ¨Ïö©Ìï¥Ïïº ÌïòÍ∏∞ ÎïåÎ¨∏Ïóê ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ÏóêÏÑú Ï†ëÏÜçÌï† Îïå SSL ÏòµÏÖòÏùÑ ÌôúÏÑ±ÌôîÌï¥Ïïº ÌïúÎã§.
    - PAM Pluggable Authentication
        - Ïú†ÎãâÏä§ÎÇò Î¶¨ÎàÖÏä§ Ìå®Ïä§ÏõåÎìú ÎòêÎäî LDAP Í∞ôÏùÄ Ïô∏Î∂Ä Ïù∏Ï¶ùÏùÑ ÏÇ¨Ïö©Ìï† Ïàò ÏûàÍ≤å Ìï¥Ï£ºÎäî Ïù∏Ï¶ù Î∞©Ïãù
        - MySQL ÏóîÌÑ∞ÌîÑÎùºÏù¥Ï¶à ÏóêÎîîÏÖòÏóêÏÑúÎßå ÏÇ¨Ïö© Í∞ÄÎä•
    - LDAP Pluggable Authentication
        - LDAP ÏùÑ Ïù¥Ïö©Ìïú Ïô∏Î∂Ä Ïù∏Ï¶ùÏùÑ ÏÇ¨Ïö©Ìï† Ïàò ÏûàÍ≤å Ìï¥Ï£ºÎäî Ïù∏Ï¶ù Î∞©Ïãù
        - MySQL ÏóîÌÑ∞ÌîÑÎùºÏù¥Ï¶à ÏóêÎîîÏÖòÏóêÏÑúÎßå ÏÇ¨Ïö© Í∞ÄÎä•
    - Í∏∞Ï°¥ 5.7 ÍπåÏßÄÏùò Ïó∞Í≤∞ Î∞©ÏãùÍ≥ºÎäî Îã§Î•∏ Î∞©ÏãùÏúºÎ°ú Ï†ëÏÜçÌï¥Ïïº ÌïòÍ∏∞ ÎïåÎ¨∏Ïóê, Î≥¥Ïïà ÏàòÏ§ÄÏùÄ Ï¢Ä ÎÇÆÏïÑÏßÄÍ≤†ÏßÄÎßå Í∏∞Ï°¥ Î≤ÑÏ†ÑÍ≥ºÏùò Ìò∏ÌôòÏÑ±ÏùÑ Í≥†Î†§ÌïúÎã§Î©¥ Native Authentication Î∞©ÏãùÏúºÎ°ú Í≥ÑÏ†ïÏùÑ ÏÉùÏÑ±Ìï¥Ïïº Ìï† ÏàòÎèÑ ÏûàÎã§.
        - 8.0 ÏóêÏÑúÎèÑ Native Authentication ÏùÑ Í∏∞Î≥∏ Ïù∏Ï¶ù Î∞©ÏãùÏúºÎ°ú ÏÑ§Ï†ïÌïòÎ†§Î©¥ `my.cnf`ÏÑ§Ï†ï Ï∂îÍ∞Ä
            
            ```bash
            default_authentication_plugin=mysql_native_password
            ```
            
- `REQUIRE`
    - MySQL ÏÑúÎ≤ÑÏóê Ï†ëÏÜçÌï† Îïå ÏïîÌò∏ÌôîÎêú SSL/TLS Ï±ÑÎÑêÏùÑ ÏÇ¨Ïö©Ìï†ÏßÄ Ïó¨Î∂ÄÎ•º ÏÑ§Ï†ïÌïúÎã§.
        - ÏòµÏÖòÏùÑ SSL Î°ú ÏÑ§Ï†ïÌïòÏßÄ ÏïäÏïòÎçîÎùºÎèÑ Caching SHA-2 Pluggable Authentication Ïù∏Ï¶ù Î∞©ÏãùÏùÑ ÏÇ¨Ïö©ÌïòÎ©¥ ÏïîÌò∏ÌôîÎêú Ï±ÑÎÑêÎßåÏúºÎ°ú MySQL ÏÑúÎ≤ÑÏóê Ï†ëÏÜçÌï† Ïàò ÏûàÍ≤å ÎêúÎã§.
- `PASSWORD EXPIRE`
    - ÎπÑÎ∞ÄÎ≤àÌò∏Ïùò Ïú†Ìö® Í∏∞Í∞ÑÏùÑ ÏÑ§Ï†ïÌïòÎäî ÏòµÏÖò
    - ÏÑ§Ï†ï Í∞ÄÎä• ÏòµÏÖò
        - `PASSWORD EXPIRE`: Í≥ÑÏ†ïÏùò ÏÉùÏÑ±Í≥º ÎèôÏãúÏóê ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÎßåÎ£å Ï≤òÎ¶¨
        - `PASSWORD EXPIRE NEVER`: ÎπÑÎ∞ÄÎ≤àÌò∏Ïùò ÎßåÎ£å Í∏∞Í∞Ñ ÏóÜÏùå
        - `PASSWORD EXPIRE DEFAULT`: `default_password_lifetime` ÏãúÏä§ÌÖú Î≥ÄÏàòÏóê Ï†ÄÏû•Îêú Í∞íÏùÑ ÏÇ¨Ïö©ÌïòÏó¨ ÎπÑÎ∞ÄÎ≤àÌò∏ Ïú†Ìö® Í∏∞Í∞ÑÏùÑ ÏÑ§Ï†ï
        - `PASSWORD EXPIRE INTERVAL n DAY`: ÎπÑÎ∞ÄÎ≤àÌò∏ Ïú†Ìö® Í∏∞Í∞ÑÏùÑ `n`ÏùºÏûêÎ°ú ÏÑ§Ï†ï
- `PASSWORD HISTORY`
    - Ìïú Î≤à ÏÇ¨Ïö©ÌñàÎçò ÎπÑÎ∞ÄÎ≤àÌò∏Î•º Ïû¨ÏÇ¨Ïö©ÌïòÏßÄ Î™ªÌïòÍ≤å ÏÑ§Ï†ïÌïòÎäî ÏòµÏÖò
    - ÏÑ§Ï†ï Í∞ÄÎä• ÏòµÏÖò
        - `PASSWORD HISTORY DEFAULT`: `password_history` ÏãúÏä§ÌÖú Î≥ÄÏàòÏóê Ï†ÄÏû•Îêú Í∞úÏàòÎßåÌÅº ÎπÑÎ∞ÄÎ≤àÌò∏Ïùò Ïù¥Î†•ÏùÑ Ï†ÄÏû•ÌïòÎ©∞, Ï†ÄÏû•Îêú Ïù¥Î†•Ïù¥ ÏûàÎäî ÎπÑÎ∞ÄÎ≤àÌò∏Îäî Ïû¨ÏÇ¨Ïö©Ìï† Ïàò ÏóÜÎã§.
        - `PASSWORD HISTORY n`: ÎπÑÎ∞ÄÎ≤àÌò∏ Ïù¥Î†•ÏùÑ ÏµúÍ∑º `n`Í∞úÍπåÏßÄÎßå Ï†ÄÏû•ÌïòÎ©∞, Ï†ÄÏû•Îêú Ïù¥Î†•Ïóê ÎÇ®ÏïÑ ÏûàÎäî ÎπÑÎ∞ÄÎ≤àÌò∏Îäî Ïû¨ÏÇ¨Ïö©Ìï† Ïàò ÏóÜÎã§.
    - Ïù¥Ï†ÑÏóê ÏÇ¨Ïö©ÌñàÎçò ÎπÑÎ∞ÄÎ≤àÌò∏ ÌôïÏù∏ÌïòÍ∏∞
        
        ```sql
        mysql> SELECT * FROM mysql.password_history;
        +------------------+-----------+--------------------+----------------+
        | Host             | User      | Password_timestamp | Password       |
        +------------------+-----------+--------------------+----------------+
        | ...
        ```
        
- `PASSWORD REUSE INTERVAL`
    - Ìïú Î≤à ÏÇ¨Ïö©ÌñàÎçò ÎπÑÎ∞ÄÎ≤àÌò∏Ïùò Ïû¨ÏÇ¨Ïö© Í∏àÏßÄ Í∏∞Í∞ÑÏùÑ ÏÑ§Ï†ïÌïòÎäî ÏòµÏÖò
    - ÏÑ§Ï†ï Í∞ÄÎä• ÏòµÏÖò
        - `PASSWORD REUSE INTERVAL DEFAULT`: `password_reuse_interval` Î≥ÄÏàòÏóê Ï†ÄÏû•Îêú Í∏∞Í∞ÑÏúºÎ°ú ÏÑ§Ï†ï
        - `PASSWORD REUSE INTERVAL n`: `n`ÏùºÏûê Ïù¥ÌõÑÏóê ÎπÑÎ∞ÄÎ≤àÌò∏Î•º Ïû¨ÏÇ¨Ïö© Ìï† Ïàò ÏûàÍ≤å ÏÑ§Ï†ï
- `PASSWORD REQUIRE`
    - ÎπÑÎ∞ÄÎ≤àÌò∏Í∞Ä ÎßåÎ£åÎêòÏñ¥ ÏÉàÎ°úÏö¥ ÎπÑÎ∞ÄÎ≤àÌò∏Î°ú Î≥ÄÍ≤ΩÌï† Îïå ÌòÑÏû¨ ÎπÑÎ∞ÄÎ≤àÌò∏(ÎßåÎ£åÎêú ÎπÑÎ∞ÄÎ≤àÌò∏)Î•º ÌïÑÏöîÎ°ú Ìï†ÏßÄ ÎßêÏßÄÎ•º Í≤∞Ï†ïÌïòÎäî ÏòµÏÖò
    - ÏÑ§Ï†ï Í∞ÄÎä• ÏòµÏÖò
        - `PASSWORD REQUIRE DEFAULT`: `password_require_current` ÏãúÏä§ÌÖú Î≥ÄÏàòÏùò Í∞íÏúºÎ°ú ÏÑ§Ï†ï
        - `PASSWORD REQUIRE CURRENT`: ÎπÑÎ∞ÄÎ≤àÌò∏Î•º Î≥ÄÍ≤ΩÌï† Îïå ÌòÑÏû¨ ÎπÑÎ∞ÄÎ≤àÌò∏Î•º Î®ºÏ†Ä ÏûÖÎ†•ÌïòÎèÑÎ°ù ÏÑ§Ï†ï
        - `PASSWORD REQUIRE OPTIONAL`: ÎπÑÎ∞ÄÎ≤àÌò∏Î•º Î≥ÄÍ≤ΩÌï† Îïå ÌòÑÏû¨ ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûÖÎ†•ÌïòÏßÄ ÏïäÏïÑÎèÑ ÎêòÎèÑÎ°ù ÏÑ§Ï†ï
- `ACCOUNT LOCK / UNLOCK`
    - Í≥ÑÏ†ï ÏÉùÏÑ± Ïãú ÎòêÎäî `ALTER USER` Î™ÖÎ†πÏúºÎ°ú Í≥ÑÏ†ï Ï†ïÎ≥¥Î•º Î≥ÄÍ≤ΩÌï† Îïå Í≥ÑÏ†ïÏùÑ ÏÇ¨Ïö©ÌïòÏßÄ Î™ªÌïòÍ≤å Ïû†Í∏ÄÏßÄ Ïó¨Î∂ÄÎ•º Í≤∞Ï†ï
    - ÏÑ§Ï†ï Í∞ÄÎä• ÏòµÏÖò
        - `ACCOUNT LOCK`: Í≥ÑÏ†ïÏùÑ ÏÇ¨Ïö©ÌïòÏßÄ Î™ªÌïòÍ≤å Ïû†Í∏à
        - `ACCOUNT UNLOCK`: Ïû†Í∏¥ Í≥ÑÏ†ïÏùÑ Îã§Ïãú ÏÇ¨Ïö© Í∞ÄÎä• ÏÉÅÌÉúÎ°ú Ïû†Í∏à Ìï¥Ï†ú


## 3. ÎπÑÎ∞ÄÎ≤àÌò∏ Í¥ÄÎ¶¨

### 3-1. Í≥†ÏàòÏ§Ä ÎπÑÎ∞ÄÎ≤àÌò∏

---

- MySQL ÏÑúÎ≤ÑÏùò ÎπÑÎ∞ÄÎ≤àÌò∏Îäî Ïú†Ìö®Í∏∞Í∞ÑÏù¥ÎÇò Ïù¥Î†• Í¥ÄÎ¶¨Î•º ÌÜµÌïú Ïû¨ÏÇ¨Ïö© Í∏àÏßÄ Í∏∞Îä• Îøê ÏïÑÎãàÎùº ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏâΩÍ≤å Ïú†Ï∂îÌï† Ïàò ÏûàÎäî Îã®Ïñ¥Îì§Ïù¥ ÏÇ¨Ïö©ÎêòÏßÄ ÏïäÍ≤å Í∏ÄÏûêÏùò Ï°∞Ìï©ÏùÑ Í∞ïÏ†úÌïòÍ±∞ÎÇò Í∏àÏπôÏñ¥Î•º ÏÑ§Ï†ïÌïòÎäî Í∏∞Îä•ÎèÑ ÏûàÎã§.
- MySQL ÏÑúÎ≤ÑÏóêÏÑú Ïú†Ìö®ÏÑ± Ï≤¥ÌÅ¨ Í∑úÏπôÏùÑ Ï†ÅÏö©ÌïòÎ†§Î©¥ Í∏∞Î≥∏Ï†ÅÏúºÎ°ú ÎÇ¥Ïû•Îêú `validate_password` Ïª¥Ìè¨ÎÑåÌä∏Î•º Ïù¥Ïö©ÌïòÎ©¥ ÎêúÎã§.
    - `validate_password` Ïª¥Ìè¨ÎÑåÌä∏Îäî MySQL ÏÑúÎ≤Ñ ÌîÑÎ°úÍ∑∏Îû®Ïóê ÎÇ¥Ïû•Îèº ÏûàÎã§.
    
    ```bash
    # validate_password Ïª¥Ìè¨ÎÑåÌä∏ ÏÑ§Ïπò
    mysql> INSTALL COMPONENT 'file://component_validate_password';
    Query OK, 0 rows affected (0.60 sec)
    
    # ÏÑ§ÏπòÎêú Ïª¥Ìè¨ÎÑåÌä∏ ÌôïÏù∏
    mysql> SELECT * FROM mysql.component;
    +--------------+--------------------+------------------------------------+
    | component_id | component_group_id | component_urn                      |
    +--------------+--------------------+------------------------------------+
    |            1 |                  1 | file://component_validate_password |
    +--------------+--------------------+------------------------------------+
    
    # Ïª¥Ìè¨ÎÑåÌä∏ÏóêÏÑú Ï†úÍ≥µÌïòÎäî ÏãúÏä§ÌÖú Î≥ÄÏàò ÌôïÏù∏
    mysql> SHOW GLOBAL VARIABLES LIKE 'validate_password%';
    +--------------------------------------+--------+
    | Variable_name                        | Value  |
    +--------------------------------------+--------+
    | validate_password.check_user_name    | ON     |
    | validate_password.dictionary_file    |        |
    | validate_password.length             | 8      |
    | validate_password.**mixed_case_count**   | 1      |
    | validate_password.**number_count**       | 1      |
    | validate_password.policy             | MEDIUM |
    | validate_password.**special_char_count** | 1      |
    +--------------------------------------+--------+
    ```
    
    - ÎπÑÎ∞ÄÎ≤àÌò∏ Î≤àÌò∏ Ï†ïÏ±Ö
        - `LOW`: ÎπÑÎ∞ÄÎ≤àÌò∏Ïùò Í∏∏Ïù¥Îßå Í≤ÄÏ¶ù (`validate_password.length`)
        - `MEDIUM`: DEFAULT, ÎπÑÎ∞ÄÎ≤àÌò∏Ïùò Í∏∏Ïù¥ÏôÄ Î¨∏Ïûê(Ïà´Ïûê, ÎåÄÏÜåÎ¨∏Ïûê, ÌäπÏàòÎ¨∏Ïûê)Ïùò Î∞∞Ìï©ÏùÑ Í≤ÄÏ¶ù
        - `STRONG`: `MEDIUM` Î†àÎ≤®Ïùò Í≤ÄÏ¶ùÏùÑ Î™®Îëê ÏàòÌñâÌïòÎ©∞, Í∏àÏπôÏñ¥ Ìè¨Ìï® Ïó¨Î∂ÄÍπåÏßÄ Í≤ÄÏ¶ù
            - `validate_password.dictionary_file`: Í∏àÏπôÏñ¥Îì§Ïù¥ Ï†ÄÏû•Îêú ÏÇ¨Ï†Ñ ÌååÏùº. Ìïú Ï§ÑÏóê ÌïòÎÇòÏî© Í∏∞Î°ùÌï¥ÏÑú Ï†ÄÏû•Ìïú ÌÖçÏä§Ìä∏ ÌååÏùºÎ°ú ÏûëÏÑ±. ex> Í∏àÏπôÏñ¥ ÌååÏùº [ÏÉòÌîå](https://github.com/danielmiessler/SecLists/blob/master/Passwords/Common-Credentials/10k-most-common.txt)
    - Í∏àÏπôÏñ¥ ÌååÏùº Îì±Î°ù
        
        ```sql
        mysql> SET GLOBAL validate_password.dictionary_file='prohibitive_word.data';
        mysql> SET GLOBAL validate_password.policy='STRONG';
        ```
        

### 3-2. Ïù¥Ï§ë ÎπÑÎ∞ÄÎ≤àÌò∏

---

- Ïù¥Ï§ë ÎπÑÎ∞ÄÎ≤àÌò∏: 2Í∞úÏùò ÎπÑÎ∞ÄÎ≤àÌò∏ Ï§ë ÌïòÎÇòÎßå ÏùºÏπòÌïòÎ©¥ Î°úÍ∑∏Ïù∏Ïù¥ ÌÜµÍ≥ºÎêòÎäî Í≤ÉÏùÑ ÏùòÎØ∏
    - ÌîÑÎùºÏù¥Î®∏Î¶¨: ÏµúÍ∑ºÏóê ÏÑ§Ï†ïÎêú ÎπÑÎ∞ÄÎ≤àÌò∏
    - ÏÑ∏Ïª®ÎçîÎ¶¨: Ïù¥Ï†Ñ ÎπÑÎ∞ÄÎ≤àÌò∏
- Ïù¥Ï§ë ÎπÑÎ∞ÄÎ≤àÌò∏ ÏÇ¨Ïö©: ÎπÑÎ∞ÄÎ≤àÌò∏ Î≥ÄÍ≤Ω Íµ¨Î¨∏Ïóê `RETAIN CURRENT PASSWORD` ÏòµÏÖòÎßå Ï∂îÍ∞Ä
    - Í≥†Í∏â ÎπÑÎ∞ÄÎ≤àÌò∏ÏóêÏÑú validate_password Ïº∞ÎçîÎãàüôÇ... `/etc/my.cnf` ÏàòÏ†ï!
        
        ```sql
        # Default Homebrew MySQL server config
        | mysql.infoschema | localhost | Y              |
        # Default Homebrew MySQL server config
        [mysqld]
        # Only allow connections from localhost
        bind-address = 127.0.0.1
        mysqlx-bind-address = 127.0.0.1
        
        default_authentication_plugin=mysql_native_password
        
        #### Real MySQL 8.0 51p ---
        max_connections=100
        
        #### InnoDB ---------------
        innodb_sort_buffer_size=5M
        
        innodb_log_files_in_group=2
        innodb_log_file_size=1024M
        
        innodb_buffer_pool_size=200M
        innodb_buffer_pool_instances=1
        innodb_io_capacity=100
        innodb_io_capacity_max=40
        
        #### Password validate ---
        **validate_password.policy=LOW**
        ```
        
    
    ```sql
    # ÎπÑÎ∞ÄÎ≤àÌò∏Î•º "old_password" Î°ú ÏÑ§Ï†ï
    mysql> ALTER USER 'root'@'localhost' IDENTIFIED BY 'old_password'
    
    # ÌîÑÎùºÏù¥Î®∏Î¶¨ ÎπÑÎ∞ÄÎ≤àÌò∏Î•º "new_password"Î°ú ÏÑ§Ï†ïÌïòÍ≥†, Ïù¥Ï†Ñ ÎπÑÎ∞ÄÎ≤àÌò∏Îäî ÏÑ∏Ïª®ÎçîÎ¶¨ ÎπÑÎ∞ÄÎ≤àÌò∏Î°ú ÏÑ§Ï†ïÌïúÎã§.
    mysql> ALTER USER 'root'@'localhost' IDENTIFIED BY 'new_password' RETAIN CURRENT PASSWORD;
    ```
    
- ÏÑ∏Ïª®ÎçîÎ¶¨ ÎπÑÎ∞ÄÎ≤àÌò∏ ÏÇ≠Ï†ú
    
    ```sql
    mysql> ALTER USER 'root'@'localhost' DISCARD OLD PASSWORD;
    ```
    
    - Î™®Îì† ÏÑúÎπÑÏä§Í∞Ä Ïû¨Î∞∞Ìè¨ ÎêòÏóàÎã§Î©¥ Î≥¥ÏïàÏùÑ ÏúÑÌï¥ ÏÑ∏Ïª®ÎçîÎ¶¨ ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏÇ≠Ï†úÌïòÎäî Í±∏ Ï∂îÏ≤úÌïúÎã§.


## 4. Í∂åÌïú (Privilege)

- MySQL 8.0Î∂ÄÌÑ∞ Ï†ïÏ†Å Í∂åÌïú(Í∏∞Ï°¥(5.7) Í∂åÌïú), ÎèôÏ†Å Í∂åÌïúÏùò Í∞úÎÖêÏù¥ Ï∂îÍ∞Ä ÎêòÏóàÎã§. [ÎßÅÌÅ¨](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv_super)
    - Ï†ïÏ†Å Í∂åÌïú: MySQL ÏÑúÎ≤ÑÏùò ÏÜåÏä§ÏΩîÎìúÏóê Í≥†Ï†ïÏ†ÅÏúºÎ°ú Î™ÖÏãúÎèº ÏûàÎäî Í∂åÌïú
        - Í∏ÄÎ°úÎ≤å Í∂åÌïú: DBÎÇò ÌÖåÏù¥Î∏î Ïù¥Ïô∏Ïùò Í∞ùÏ≤¥Ïóê Ï†ÅÏö©ÎêòÎäî Í∂åÌïú
            - `GRANT` Î™ÖÎ†πÏóêÏÑú ÌäπÏ†ï Í∞ùÏ≤¥Î•º Î™ÖÏãúÌïòÏßÄ ÎßêÏïÑÏïº ÌïúÎã§.
        - Í∞ùÏ≤¥ Í∂åÌïú: DBÎÇò ÌÖåÏù¥Î∏îÏùÑ Ï†úÏñ¥ÌïòÎäî Îç∞ ÌïÑÏöîÌïú Í∂åÌïú
            - `GRANT` Î™ÖÎ†πÏúºÎ°ú Í∂åÌïúÏùÑ Î∂ÄÏó¨Ìï† Îïå Î∞òÎìúÏãú ÌäπÏ†ï Í∞ùÏ≤¥Î•º Î™ÖÏãúÌï¥Ïïº ÌïúÎã§.
    - ÎèôÏ†Å Í∂åÌïú: MySQL ÏÑúÎ≤ÑÍ∞Ä ÏãúÏûëÎêòÎ©¥ÏÑú ÎèôÏ†ÅÏúºÎ°ú ÏÉùÏÑ±ÌïòÎäî Í∂åÌïú
- MySQL 5.7 Î≤ÑÏ†ÑÍπåÏßÄÎäî SUPER Í∂åÌïúÏù¥ DB Í¥ÄÎ¶¨Î•º ÏúÑÌï¥ Íº≠ ÌïÑÏöîÌïú Í∂åÌïúÏù¥ÏóàÏßÄÎßå, 8.0 Î∂ÄÌÑ∞Îäî SUPER Í∂åÌïúÏùÄ ÏûòÍ≤å Ï™ºÍ∞úÏñ¥Ï†∏ ÎèôÏ†Å Í∂åÌïúÏúºÎ°ú Î∂ÑÏÇ∞ÎêêÎã§.
    - Î∞±ÏóÖ Í¥ÄÎ¶¨ÏûêÏôÄ Î≥µÏ†ú Í¥ÄÎ¶¨Ïûê Í∞úÎ≥ÑÎ°ú Íº≠ ÌïÑÏöîÌïú Í∂åÌïúÎßå Î∂ÄÏó¨Ìï† Ïàò ÏûàÍ≤å ÎêòÏóàÎã§.

- `GRANT` Î™ÖÎ†π: ÏÇ¨Ïö©ÏûêÏóêÍ≤å Í∂åÌïúÏùÑ Î∂ÄÏó¨
    
    ```sql
    mysql> GRANT privilege_list ON db.table TO 'user'@'host';
    ```
    
    - 8.0Î∂ÄÌÑ∞ Ï°¥Ïû¨ÌïòÏßÄ ÏïäÎäî ÏÇ¨Ïö©ÏûêÏóê `GRANT` Î™ÖÎ†πÏñ¥Î•º Ïã§ÌñâÌïòÎ©¥ ÏóêÎü¨Í∞Ä Î∞úÏÉùÌïòÍ∏∞ ÎïåÎ¨∏Ïóê Í∂åÌïúÏùÑ Î∂ÄÏó¨ÌïòÍ∏∞ Ï†ÑÏóê ÏÇ¨Ïö©ÏûêÎ•º Î∞òÎìúÏãú ÏÉùÏÑ±Ìï¥Ïïº ÌïúÎã§.
- Î≤îÏúÑ Î≥Ñ Í∂åÌïú Î∂ÄÏó¨ÌïòÍ∏∞
    
    ```sql
    # privilege_list ÏóêÎäî Íµ¨Î∂ÑÏûê(,)Î•º Ïç®ÏÑú Ïó¨Îü¨ Í∂åÌïúÏùÑ ÎèôÏãúÏóê Î™ÖÏãúÌï† Ïàò ÏûàÎã§.
    GRANT previlege1, previlege2, previlege3 ON db.table TO 'user'@'host';
    
    # Í∏ÄÎ°úÎ≤å Í∂åÌïú
    -- Í∏ÄÎ°úÎ≤å Í∂åÌïúÏùÄ ÌäπÏ†ï DBÎÇò ÌÖåÏù¥Î∏îÏóê Î∂ÄÏó¨Ìï† Ïàò ÏóÜÍ∏∞ ÎïåÎ¨∏Ïóê Ìï≠ÏÉÅ *.* ÏùÑ ÏÇ¨Ïö©ÌïúÎã§.
    GRANT SUPER ON *.* TO 'user'@'localhost';
    
    # DB Í∂åÌïú
    -- DB Í∂åÌïúÏùÄ Î™®Îì† DB, ÌäπÏ†ï DBÏóê Í∂åÌïúÏùÑ Î∂ÄÏó¨Ìï† Ïàò ÏûàÍ∏∞ ÎïåÎ¨∏Ïóê *.* ÎÇò employees.* Î™®Îëê ÏÇ¨Ïö©Ìï† Ïàò ÏûàÎã§.
    GRANT EVENT ON *.* TO 'user'@'localhost';
    GRANT EVENT ON employees.* TO 'user'@'localhost';
    
    # ÌÖåÏù¥Î∏î Í∂åÌïú
    -- ÌÖåÏù¥Î∏î Í∂åÌïúÏùÄ Î™®Îì† DB, ÌäπÏ†ï DB, ÌäπÏ†ï DB Ïùò ÌäπÏ†ï ÌÖåÏù¥Î∏îÏóê ÎåÄÌï¥ÏÑúÎèÑ Í∂åÌïúÏùÑ Î∂ÄÏó¨Ìï† Ïàò ÏûàÍ∏∞ ÎïåÎ¨∏Ïóê *.* ÎÇò employees.*, employees.department Î™®Îëê ÏÇ¨Ïö©Ìï† Ïàò ÏûàÎã§.
    GRANT SELECT,INSERT,UPDATE,DELETE ON *.* TO 'user'@'localhost';
    GRANT SELECT,INSERT,UPDATE,DELETE ON employees.* TO 'user'@'localhost';
    GRANT SELECT,INSERT,UPDATE,DELETE ON employees.department TO 'user'@'localhost';
    ```
    
    - ÏπºÎüº Îã®ÏúÑÏùò Í∂åÌïúÏù¥ ÌïòÎÇòÎùºÎèÑ ÏÑ§Ï†ïÎêòÎ©¥ ÎÇòÎ®∏ÏßÄ Î™®Îì† ÌÖåÏù¥Î∏îÏùò Î™®Îì† ÏπºÎüºÏóê ÎåÄÌï¥ÏÑúÎèÑ Í∂åÌïú Ï≤¥ÌÅ¨Î•º ÌïòÍ∏∞ ÎïåÎ¨∏Ïóê Ï†ÑÏ≤¥Ï†ÅÏù∏ ÏÑ±Îä•Ïóê ÏòÅÌñ•ÏùÑ ÎØ∏Ïπ†Ïàò ÏûàÏñ¥, Ïûò ÏÇ¨Ïö©ÌïòÏßÄ ÏïäÎäîÎã§.

- Í∂åÌïú ÌôïÏù∏1: `SHOW GRANTS` Î™ÖÎ†π
    
    ```sql
    mysql> SHOW GRANTS FOR 'root'@'localhost';
    ```
    
- Í∂åÌïú ÌôïÏù∏2: mysql DB Ïùò Í∂åÌïú Í¥ÄÎ†® ÌÖåÏù¥Î∏î Ï∞∏Ï°∞
    
    ```sql
    # Ï†ïÏ†Å Í∂åÌïú
    select * from mysql.user -- Í≥ÑÏ†ïÏ†ïÎ≥¥ & Í≥ÑÏ†ïÏù¥ÎÇò Ïó≠Ìï†Ïóê Î∂ÄÏó¨Îêú Í∏ÄÎ°úÎ≤å Í∂åÌïú
    select * from mysql.db -- Í≥ÑÏ†ïÏù¥ÎÇò Ïó≠Ìï†Ïóê DBÎã®ÏúÑÎ°ú Î∂ÄÏó¨Îêú Í∂åÌïú
    select * from mysql.tables_priv -- Í≥ÑÏ†ïÏù¥ÎÇò Ïó≠Ìï†Ïóê ÌÖåÏù¥Î∏î Îã®ÏúÑÎ°ú Î∂ÄÏó¨Îêú Í∂åÌïú
    select * from mysql.columns_priv -- Í≥ÑÏ†ïÏù¥ÎÇò Ïó≠Ìï†Ïóê Ïª¨Îüº Îã®ÏúÑÎ°ú Î∂ÄÏó¨Îêú Í∂åÌïú
    select * from mysql.procs_priv -- Í≥ÑÏ†ïÏù¥ÎÇò Ïó≠Ìï†Ïóê Ïä§ÌÜ†Ïñ¥Îìú ÌîÑÎ°úÍ∑∏Îû® Îã®ÏúÑÎ°ú Î∂ÄÏó¨Îêú Í∂åÌïú
    # ÎèôÏ†Å Í∂åÌïú
    mysql> select * from mysql.global_grants -- Í≥ÑÏ†ïÏù¥ÎÇò Ïó≠Ìï†Ïóê Î∂ÄÏó¨ÎêòÎäî ÎèôÏ†Å Í∏ÄÎ°úÎ≤å Í∂åÌïú
    ```
    

## 5. Ïó≠Ìï† (Role)

- MySQL 8.0 Î≤ÑÏ†ÑÎ∂ÄÌÑ∞ Í∂åÌïúÏùÑ Î¨∂Ïñ¥ÏÑú Ïó≠Ìï†(Role)ÏùÑ ÏÇ¨Ïö©Ìï† Ïàò ÏûàÍ≤å ÎêêÎã§.

- `CREATE ROLE` Î™ÖÎ†π: Ïó≠Ìï† ÏÉùÏÑ±
- Ï≤òÏùå Í≥ÑÏ†ïÏùÑ ÏÉùÏÑ±ÌïòÎ©¥ ÏïÑÎ¨¥ Í∂åÌïúÏù¥ Ï°¥Ïû¨ÌïòÏßÄ ÏïäÏßÄÎßå `GRANT` Î™ÖÎ†πÏúºÎ°ú Ïó≠Ìï†ÏùÑ Î∂ÄÏó¨ÌïòÎ©¥ ÎêúÎã§.
    
    ```sql
    mysql> CREATE USER 'jenny'@'127.0.0.1' IDENTIFIED BY '12345678';
    mysql> CREATE USER 'extra'@'127.0.0.1' IDENTIFIED BY '12345678';
    
    mysql> CREATE ROLE role_emp_read, role_emp_write;
    
    mysql> SELECT user, host, account_locked FROM mysql.user;
    +------------------+-----------+----------------+
    | user             | host      | account_locked |
    +------------------+-----------+----------------+
    | role_emp_read    | %         | Y              |
    | role_emp_write   | %         | Y              |
    | extra            | 127.0.0.1 | N              |
    | jenny            | 127.0.0.1 | N              |
    | mysql.infoschema | localhost | Y              |
    | mysql.session    | localhost | Y              |
    | mysql.sys        | localhost | Y              |
    | root             | localhost | N              |
    +------------------+-----------+----------------+
    # employees DB Ï°∞Ìöå, Î≥ÄÍ≤Ω Í∂åÌïúÏùÑ Ïó≠Ìï†Ïóê Ï§ÄÎã§.
    mysql> GRANT SELECT ON employees.* TO role_emp_read;
    mysql> GRANT INSERT, UPDATE, DELETE ON employees.* TO role_emp_write;
    
    mysql> GRANT role_emp_read TO 'jenny'@127.0.0.1;
    mysql> GRANT role_emp_write TO 'extra'@127.0.0.1;
    ```
    
- Í≥ÑÏ†ïÏóê Ïó≠Ìï† Î∂ÄÏó¨
    - Ïó≠Ìï† Î∂ÄÏó¨Ìï¥ÎèÑ Í≥ÑÏ†ïÏùò ÌôúÏÑ±ÌôîÎêú Ïó≠Ìï†ÏùÑ Ï°∞ÌöåÌï¥ Î≥¥Î©¥ ÏóÜÎã§Í≥† ÎÇòÏò®Îã§. Í≥ÑÏ†ï Î°úÍ∑∏Ïù∏ ÌõÑ `SET ROLE` Î™ÖÎ†πÏùÑ ÌÜµÌï¥ Ïó≠Ìï†ÏùÑ ÌôúÏÑ±ÌôîÌï¥Ïïº ÌïúÎã§.
        
        ```sql
        > mysql -ujenny -p -h '127.0.0.1'
        
        mysql> SELECT current_role();
        +----------------+
        | current_role() |
        +----------------+
        | NONE           |
        +----------------+
        mysql> SHOW GRANTS;
        +---------------------------------------------------+
        | Grants for jenny@127.0.0.1                        |
        +---------------------------------------------------+
        | GRANT USAGE ON *.* TO `jenny`@`127.0.0.1`         |
        | GRANT `role_emp_read`@`%` TO `jenny`@`127.0.0.1`  |
        +---------------------------------------------------+
        ```
        
        - MySQL ÏÑúÎ≤ÑÏùò Ïó≠Ìï†Ïù¥ ÏûêÎèôÏúºÎ°ú ÌôúÏÑ±ÌôîÎêòÏßÄ ÏïäÍ≤å ÏÑ§Ï†ïÎèº ÏûàÍ∏∞ ÎïåÎ¨∏
    - `activate_all_roles_on_login` ÏãúÏä§ÌÖú Î≥ÄÏàò: ÏÇ¨Ïö©ÏûêÍ∞Ä MySQL ÏÑúÎ≤ÑÏóê Î°úÍ∑∏Ïù∏ Ïãú Ïó≠Ìï†ÏùÑ ÏûêÎèôÏúºÎ°ú ÌôúÏÑ±ÌôîÌï†ÏßÄ Ïó¨Î∂ÄÍ∞í
        
        ```sql
        # SET GLOBAL activate_all_roles_on_login=ON ÏÑ§Ï†ïÏúºÎ°ú ÎåÄÏ≤¥ Í∞ÄÎä•
        mysql> SET ROLE role_emp_read;
        
        mysql> SELECT current_role();
        +---------------------+
        | current_role()      |
        +---------------------+
        | `role_emp_read`@`%` |
        +---------------------+
        
        mysql> SELECT user, host, account_locked FROM mysql.user;
        ERROR 1142 (42000): SELECT command denied to user 'jenny'@'localhost' for table 'user'
        
        # „Ö†„Ö†.. Îã§Ïãú root Í≥ÑÏ†ïÏúºÎ°ú
        mysql> SELECT user, host, account_locked FROM mysql.user;
        +------------------+-----------+----------------+
        | user             | host      | account_locked |
        +------------------+-----------+----------------+
        | role_emp_read    | %         | Y              |
        | role_emp_write   | %         | Y              |
        | extra            | 127.0.0.1 | N              |
        | jenny            | 127.0.0.1 | N              |
        | mysql.infoschema | localhost | Y              |
        | mysql.session    | localhost | Y              |
        | mysql.sys        | localhost | Y              |
        | root             | localhost | N              |
        +------------------+-----------+----------------+
        ```
        
- Ïó≠Ìï†Í≥º Í≥ÑÏ†ïÏùò Ï∞®Ïù¥
    1. ÏÑúÎ≤Ñ ÎÇ¥Î∂ÄÏ†ÅÏúºÎ°ú Ïó≠Ìï†Í≥º Í≥ÑÏ†ïÏùÄ ÏïÑÎ¨¥Îü∞ Ï∞®Ïù¥Í∞Ä ÏóÜÎã§.(`mysql.user`)
    2. `CREATE ROLE` Î™ÖÎ†πÏúºÎ°ú ÏÉùÏÑ±Îêú Ïó≠Ìï†ÏùÄ `account_locked` Ïª¨ÎüºÏùò Í∞íÏù¥ `Y`Î°ú ÏÑ§Ï†ïÎêòÏÑú Î°úÍ∑∏Ïù∏ Ïö©ÎèÑÎ°ú ÏÇ¨Ïö©Ìï† Ïàò ÏóÜÍ≤å ÎêúÎã§.
    - 3. Ïó≠Ìï†Ïùò Ìò∏Ïä§Ìä∏ Î∂ÄÎ∂ÑÏùÄ ÏïÑÎ¨¥Îü∞ ÏòÅÌñ•Ïù¥ ÏóÜÎã§.
        - Ìò∏Ïä§Ìä∏ Î∂ÄÎ∂ÑÏùÑ Î™ÖÏãúÌïòÏßÄ ÏïäÏùÄ Í≤ΩÏö∞ÏóêÎäî ÏûêÎèôÏúºÎ°ú ‚ÄòÎ™®Îì† Ìò∏Ïä§Ìä∏(`%`)‚ÄôÍ∞Ä ÏûêÎèôÏúºÎ°ú Ï∂îÍ∞ÄÎêúÎã§.
        - Ïó≠Ìï†ÏùÑ Îã§Î•∏ Í≥ÑÏ†ïÏóê Î∂ÄÏó¨ÌïòÏßÄ ÏïäÍ≥† ÏßÅÏ†ë Î°úÍ∑∏Ïù∏ÌïòÎäî Ïö©ÎèÑÎ°ú ÏÇ¨Ïö©ÌïúÎã§Î©¥(Ïã§Ï†ú Í≥ÑÏ†ïÏ≤òÎüº ÏÇ¨Ïö©ÌïúÎã§Î©¥) ÏùòÎØ∏Í∞Ä ÏûàÎã§.
    1. Ïó≠Ìï†Í≥º Í≥ÑÏ†ïÏùÄ Ïã§Ï†úÎ°ú DBÏóêÏÑúÎèÑ Íµ¨Î∂ÑÌïòÍ∏∞ ÌûòÎì§Í∏∞ ÎïåÎ¨∏Ïóê `role_`Í≥º Í∞ôÏùÄ prefixÎ•º Î∂ôÏó¨ Íµ¨Î∂ÑÌï† Ïàò ÏûàÎèÑÎ°ù ÌïòÎäî Í≤ÉÏù¥ Ï¢ãÎã§.

- Í≥ÑÏ†ïÏùò Í∏∞Î≥∏ Ïó≠Ìï† ÎòêÎäî Ïó≠Ìï†Ïóê Î∂ÄÏó¨Îêú Ïó≠Ìï† Í∑∏ÎûòÌîÑ Í¥ÄÍ≥Ñ ÌôïÏù∏: `SHOW GRANTS` Î™ÖÎ†π, mysql DB Ïùò Í∂åÌïú Í¥ÄÎ†® ÌÖåÏù¥Î∏î Ï∞∏Ï°∞
    
    ```sql
    # Í≥ÑÏ†ïÎ≥Ñ Í∏∞Î≥∏ Ïó≠Ìï†
    mysql> SELECT * FROM mysql.default_roles;
    
    # Ïó≠Ìï†Ïóê Î∂ÄÏó¨Îêú Ïó≠Ìï† Í¥ÄÍ≥Ñ Í∑∏ÎûòÌîÑ
    mysql> SELECT * FROM mysql.role_edges;
    +-----------+----------------+-----------+---------+-------------------+
    | FROM_HOST | FROM_USER      | TO_HOST   | TO_USER | WITH_ADMIN_OPTION |
    +-----------+----------------+-----------+---------+-------------------+
    | %         | role_emp_read  | 127.0.0.1 | jenny   | N                 |
    | %         | role_emp_write | 127.0.0.1 | extra   | N                 |
    +-----------+----------------+-----------+---------+-------------------+
    ```
    

- Ï∞∏Í≥†
    - [https://velog.io/@emawlrdl/CH3.-ÏÇ¨Ïö©Ïûê-Î∞è-Í∂åÌïú](https://velog.io/@emawlrdl/CH3.-%EC%82%AC%EC%9A%A9%EC%9E%90-%EB%B0%8F-%EA%B6%8C%ED%95%9C)
